/**
* Horizon
* Version: 1.0.3
* URL: @ThemeMountain
* Description: Reveal Plugin
* Requires: jQuery 1.10+
* Author: ThemeMountain
* Copyright: Copyright 2013 ThemeMountain
* License: Attribution-NonCommercial 3.0 (http://creativecommons.org/licenses/by-nc/3.0/)
*/
!function(a,e,t,i){"use strict";var n,r=function(e,i){function n(){a.each(c,function(a,t){t=t.split(":");var i=t[0],n=t[1];r.parallax?("direction"===i&&e.data("pd",n),"speed"===i&&e.data("ps",n),"rotate"===i&&e.data("pr",n),"opacity"===i&&e.data("po",n)):("opacity"===i&&e.data("o",n),"scale"===i&&e.data("s",n),"easing"===i&&e.data("e",n),"transX"===i&&e.data("tx",parseFloat(n)),"transY"===i&&e.data("ty",parseFloat(n)),"transZ"===i&&e.data("tz",parseFloat(n)),"rotateX"===i&&e.data("rx",parseFloat(n)),"rotateY"===i&&e.data("ry",parseFloat(n)),"rotateZ"===i&&e.data("rz",parseFloat(n)),"transOrigX"===i&&e.data("ox",n),"transOrigY"===i&&e.data("oy",n),"duration"===i&&e.data("du",parseFloat(n)),"delay"===i&&e.data("de",parseFloat(n)))})}var r=a.extend({},a.fn.horizon.tmhOpts,i);e=a(e),O&&e.css({opacity:1,visibility:"visible"}),e.data("scrolling",!1).css("-webkit-backface-visibility","hidden");var c;e.is("[data-parallax]")||r.parallax?(r.parallax=!0,r.threshold=0,e.data("threshold",0),e.parent().addClass("tmh-perspective-parallax"),e.addClass("tmh-parallax-item"),c=(e.data("parallax")+"").split(";"),o(e,r,!0)):(e.parent().addClass("tmh-perspective"),c=(e.data("animate-in")+"").split(";")),-1!=a.inArray("preset",(c+"").split(":"))?c.filter(function(e){if("preset"===e.split(":")[0]){c.splice(a.inArray(e,c),1);var t=(w[e.split(":")[1]]+"").split(";");c=a.merge(t,c).filter(Boolean),n()}}):n(),a(t).on("scroll",function(){s(e,r,!1)}),a(t).on("resize",function(){s(e,r,!1)}),r.parallax||p(e,r),s(e,r)},s=function(a,e,t){a.data("scrolling")||(requestAnimationFrame(function(){o(a,e,t)}),a.data("scrolling",!0))},o=function(e,i,n){if(c(e,i)||n)if(i.parallax){if(O)return!1;{var r=e.data("pd")?e.data("pd"):"vertical",s=e.data("ps")?e.data("ps"):i.parallaxSpeed,o=e.data("pr")?e.data("pr"):"none",p=e.data("po")?e.data("po"):"none",g=a(t),d=g.scrollTop(),b=e.offset().top,h=g.height()*s,f=e.parent().height()+e.parent().offset().top-d,y=-((b-d-g.height())*s)-h,w="horizontal"===r?y:0,x="vertical"===r?y:0;-(.1*(b-d-g.height()))-h}o="clockwise"===o?.02*-y:"anticlockwise"===o?.02*y:0,p="fade"===p?f/e.parent().height():1,u&&(g.width()<768?l(e,1,0,0,0,0,0,0,1,0,0,"100ms",0,"swing",i):l(e,p.toFixed(2),w,x,0,o,o,o,1,"50%","50%",0,0,"ease-out",i))}else{var I=e.data("ox")?e.data("ox"):"50%",F=e.data("oy")?e.data("oy"):"50%",z=e.data("du")?e.data("du"):i.speed,S=e.data("de")?e.data("de"):0,X=e.data("e")?m[e.data("e")]:m[i.easing];u?l(e,1,0,0,0,0,0,0,1,I,F,z,S,X,i):e.css({visibility:"visible"}).stop().animate({opacity:1},i.speed,i.easingFallback,function(){i.inView&&i.inView()})}e.data("scrolling",!1)},c=function(e,i){var n=a(t).scrollTop(),r=n+a(t).height(),s=e.data("threshold")?parseFloat(e.data("threshold")):i.threshold,o=e.data("ty")?parseFloat(e.data("ty")):0,c=e.offset().top,l=e.offset().top-o,g=l+e.outerHeight()-e.outerHeight()*s,d=l+e.outerHeight()*s;return(c-n>a(t).height()||c-n<-e.outerHeight())&&(i.recurring&&p(e,i),i.outOfView&&i.outOfView()),r>=d&&g>=n},p=function(a){if(O)return!1;var e=a.data("o")?parseFloat(a.data("o")):0,t=a.data("tx")?parseFloat(a.data("tx")):0,i=a.data("ty")?parseFloat(a.data("ty")):0,n=a.data("tz")?parseFloat(a.data("tz")):0,r=a.data("rx")?parseFloat(a.data("rx")):0,s=a.data("ry")?parseFloat(a.data("ry")):0,o=a.data("rz")?parseFloat(a.data("rz")):0,c=a.data("s")?parseFloat(a.data("s")):1;a.css(u?{transition:"none",transform:"translate3d("+t+"px, "+i+"px, "+n+"px )rotateX("+r+"deg) rotateY("+s+"deg) rotateZ("+o+"deg) scale3d("+c+", "+c+", "+c+")",opacity:e,visibility:"hidden"}:{opacity:0})},l=function(e,t,i,n,r,s,o,c,p,l,g,d,u,b,h){var m={};m.transform="translate3d("+i+"px, "+n+"px, "+r+"px) rotateX("+s+"deg) rotateY("+o+"deg) rotateZ("+c+"deg) scale3d("+p+", "+p+", "+p+")",m.transitionProperty=f+", opacity",m.transformOrigin=l+" "+g+" 0",m.transitionDuration=d+"ms",m.transitionDelay=u+"ms",m.transitionTimingFunction=b,m.visibility="visible",m.opacity=t,e.css(m).on(y,function(e){e.stopPropagation(),a(this).off(y),h.inView&&h.inView()})},g=e.body||e.documentElement,d=g.style,u=d.transition!==i||d.WebkitTransition!==i||d.MozTransition!==i||d.MsTransition!==i||d.OTransition!==i,b=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var h in b)d[b[h]]!==i&&(n="-"+b[h].replace("Transform","").toLowerCase());var f=n+"-transform",y="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",m={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)",easeFastSlow:"cubic-bezier(.11,.69,.66,1.01)",easeBounceBack:"cubic-bezier(.16,1.36,.57,.96)",easeBounceBackHard:"cubic-bezier(.8,1.91,0,.94)",easeBounceIn:"cubic-bezier(.15,2.6,0,-0.2)",easeSwingInOut:"cubic-bezier(.35,3.8,0.3,-0.6)"},w={fadeIn:"opacity: 0;easing: swing;",slideInUpShort:"opacity:0;transY: 50px;easing:easeFastSlow;",slideInRightShort:"opacity:0;transX: 50px;easing:easeFastSlow;",slideInDownShort:"opacity:0;transY: -50px;easing:easeFastSlow;",slideInLeftShort:"opacity:0;transX: -50px;easing:easeFastSlow;",slideInUpLong:"opacity:0;transY: 250px;easing:easeFastSlow;",slideInRightLong:"opacity:0;transX: 250px;easing:easeFastSlow;",slideInDownLong:"opacity:0;transY: -250px;easing:easeFastSlow;",slideInLeftLong:"opacity:0;transX: -250px;easing:easeFastSlow;",bounceIn:"opacity:0;scale:0.7;easing:easeBounceIn;",bounceOut:"opacity:0;scale:1.4;easing:easeBounceIn;",bounceInUp:"opacity:0;transY: 250px;easing:easeBounceIn;",bounceInRight:"opacity:0;transX: 250px;easing:easeBounceIn;",bounceInDown:"opacity:0;transY: -250px;easing:easeBounceIn;",bounceInLeft:"opacity:0;transX: -250px;easing:easeBounceIn;",scaleIn:"opacity:0;scale: 0.6;easing:easeFastSlow;",scaleOut:"opacity:0;scale: 1.4;easing:easeFastSlow",flipInX:"opacity:0;rotateX: -180deg;easing:easeFastSlow;",flipInY:"opacity:0;rotateY: -180deg;easing:easeFastSlow;",spinInX:"opacity:0;rotateX: -540deg;easing:easeFastSlow;",spinInY:"opacity:0;rotateY: -540deg;easing:easeFastSlow;",helicopterIn:"opacity:0;scale: 0.6;rotateZ: -360deg;easing:easeFastSlow;",helicopterOut:"opacity:0;scale: 1.4;rotateZ: -360deg;easing:easeFastSlow;",signSwingTop:"opacity:0;rotateX:-60deg;transOrigX:top;transOrigY:center;easing:easeSwingInOut;",signSwingRight:"opacity:0;rotateY:-60deg;transOrigX:right;transOrigY:center;easing:easeSwingInOut;",signSwingBottom:"opacity:0;rotateX:-60deg;transOrigX:bottom;transOrigY:center;easing:easeSwingInOut;",signSwingLeft:"opacity:0;rotateY:-60deg;transOrigX:left;transOrigY:center;easing:easeSwingInOut;",wiggleX:"opacity:0;rotateX:-90deg;transOrigX:center;transOrigY:center;easing:easeSwingInOut;",wiggleY:"opacity:0;rotateY:-90deg;transOrigX:center;transOrigY:center;easing:easeSwingInOut;",dropUp:"opacity:0;transY: 250px;rotateZ:60deg;transOrigX:left;transOrigY:top;easing:easeBounceBackHard;",dropDown:"opacity:0;transY: -250px;rotateZ:-60deg;transOrigX:left;transOrigY:top;easing:easeBounceBackHard;",rollInLeft:"opacity:0;transX: -250px;transY: 200px;rotateZ: -120px;transOrigX:left;transOrigY:top;easing:easeFastSlow;",rollInRight:"opacity:0;transX: 250px;transY: 200px;rotateZ: 120px;transOrigX:right;transOrigY:top;easing:easeFastSlow;",turnInRight:"opacity:0;transX: 250px;rotateX:20deg;rotateY:75deg;transOrigX:left;transOrigY:top;easing:easeBounceBack;",turnInLeft:"opacity:0;transX: -250px;rotateX:20deg;rotateY:-75deg;transOrigX:right;transOrigY:top;easing:easeBounceBack;"},O=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(O=!0),function(){for(var a=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!t.requestAnimationFrame;++i)t.requestAnimationFrame=t[e[i]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e[i]+"CancelAnimationFrame"]||t[e[i]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),r=t.setTimeout(function(){e(i+n)},n);return a=i+n,r}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.horizon=function(e){return this.each(function(){var t=a(this);if(!t.data("horizon")){var i=new r(this,e);t.data("horizon",i)}})},a.fn.horizon.tmhOpts={easing:"swing",easingFallback:"swing",speed:1e3,threshold:1,recurring:!0,parallax:!1,parallaxSpeed:.2,inView:null,outOfView:null}}(jQuery,document,window);
